define("ajax",["jquery","scalejs!core","formdata"],function(a,b,c){"use strict";function d(c,d){var e=b.reactive.Observable,f=b.object.merge,g=b.log;return e.create(function(b){function e(a,c,d){b.onNext(a)}function h(a,d,e){g.error('Error: "'+e+": "+d+" in response to "+c+'"'),b.onError({error:e,status:d})}function i(){b.onCompleted()}var j=f({type:"GET",success:e,error:h,complete:i},d);return a.ajax(c,j),function(){}})}function e(a,c,e){return e=b.object.merge(e,{type:"GET",data:c}),d(a,e)}function f(a,c,e){var f=new FormData,g=Object.keys(c);return g.forEach(function(a){f.append(a,c[a])}),e=f.fake?b.object.merge(e,{type:"POST",data:f,contentType:"multipart/form-data; boundary="+f.boundary,processData:!1}):b.object.merge(e,{type:"POST",data:f,contentType:!1,processData:!1}),d(a,e)}function g(a,c,e){var f=JSON.stringify(c);return e=b.object.merge(e,{type:"POST",data:f,contentType:"application/json",processData:!1}),d(a,e)}function h(c,e,f){var g=a.param(e);return f=b.object.merge(f,{type:"GET",dataType:"jsonp"}),console.error("url: "+c+"?"+g),d(c+"?"+g,void 0,f)}return{postJson:g,postMultipart:f,jsonpGet:h,get:e}}),define("xhr",["scalejs!core"],function(a){"use strict";function b(a){var b=d({ondone:null,type:"GET",data:"",uri:null},a);if("function"!=typeof b.ondone)throw new TypeError("ajax: ondone must be function");if(-1!==["POST","GET","PUT"].indexOf(b.type))throw new Error("type not valid");if(!b.uri)throw new Error("ajax: must provide uri");var c=new XMLHttpRequest;c.onreadystatechange=function(){return 4===c.readyState?200!==c.status?b.ondone("request failed with status "+c.status):void b.ondone(null,c.responseText):void 0};var e=c.abort.bind(c);return c.abort=function(){b.ondone(null,null),e()},c.open(b.type,b.uri,!0),c.setRequestHeader("Content-Type","application/json"),c.send(b.data),c}function c(a){var c=a.ondone;a.ondone=function(a,b){a?c(a):c(null,JSON.parse(b))},a.data=JSON.stringify(a.data),b(a)}var d=a.object.merge;a.registerExtension({ajaxxhr:{requestJson:c,ajax:b}})}),define("scalejs.ajax-jquery",["scalejs!core","./ajax","./xhr"],function(a,b,c){"use strict";a.registerExtension({ajax:b,xhr:c})});