define("scalejs.ajax-jquery/ajax",["jquery","scalejs!core"],function(a,b){"use strict";function c(c,d){var e=b.reactive.Observable,f=b.object.merge,g=b.log;return e.create(function(b){function e(a,c,d){b.onNext(a)}function h(a,d,e){g.error('Error: "'+e+": "+d+" in response to "+c+'"'),b.onError({error:e,status:d})}function i(){b.onCompleted()}var j=f({type:"GET",success:e,error:h,complete:i},d);return a.ajax(c,j),function(){}})}function d(a,d,e){return e=b.object.merge(e,{type:"GET",data:d}),c(a,e)}function e(a,d,e){var f=new FormData,g=Object.keys(d);return g.forEach(function(a){f.append(a,d[a])}),e=f.fake?b.object.merge(e,{type:"POST",data:f,contentType:"multipart/form-data; boundary="+f.boundary,processData:!1}):b.object.merge(e,{type:"POST",data:f,contentType:!1,processData:!1}),c(a,e)}function f(a,d,e){var f=JSON.stringify(d);return e=b.object.merge(e,{type:"POST",data:f,contentType:"application/json",processData:!1}),c(a,e)}function g(d,e,f){var g=a.param(e);return f=b.object.merge(f,{type:"GET",dataType:"jsonp"}),console.error("url: "+d+"?"+g),c(d+"?"+g,void 0,f)}return{postJson:f,postMultipart:e,jsonpGet:g,get:d}}),define("scalejs.ajax-jquery/xhr",["scalejs!core"],function(a){"use strict";function b(a){var b=d({ondone:null,type:"GET",data:"",uri:null},a);if("function"!=typeof b.ondone)throw new TypeError("ajax: ondone must be function");if(-1!==["POST","GET","PUT"].indexOf(b.type))throw new Error("type not valid");if(!b.uri)throw new Error("ajax: must provide uri");var c=new XMLHttpRequest;c.onreadystatechange=function(){return 4===c.readyState?200!==c.status?b.ondone("request failed with status "+c.status):void b.ondone(null,c.responseText):void 0};var e=c.abort.bind(c);return c.abort=function(){b.ondone(null,null),e()},c.open(b.type,b.uri,!0),c.setRequestHeader("Content-Type","application/json"),c.send(b.data),c}function c(a){var c=a.ondone;a.ondone=function(a,b){a?c(a):c(null,JSON.parse(b))},a.data=JSON.stringify(a.data),b(a)}var d=a.object.merge;return{requestJson:c,xhr:b}}),define("scalejs.ajax-jquery/formdata",[],function(){"use strict";function a(){this.fake=!0,this.boundary="--------FormData"+Math.random(),this._fields=[]}var b=window;if(!b.FormData)return a.prototype.append=function(a,b){this._fields.push([a,b])},a.prototype.toString=function(){var a=this.boundary,b="";return this._fields.forEach(function(c){if(b+="--"+a+"\r\n",c[1].name){var d=c[1];b+='Content-Disposition: form-data; name="'+c[0]+"'; filename=\""+d.name+'"\r\n',b+="Content-Type: "+d.type+"\r\n\r\n",b+=d.getAsBinary()+"\r\n"}else b+='Content-Disposition: form-data; name="'+c[0]+'";\r\n\r\n',b+=c[1]+"\r\n"}),b+="--"+a+"--"},b.FormData=a,a}),define("scalejs.ajax-jquery",["scalejs!core","./scalejs.ajax-jquery/ajax","./scalejs.ajax-jquery/xhr","./scalejs.ajax-jquery/formdata"],function(a,b,c){"use strict";a.registerExtension({ajax:b,xhr:c})});